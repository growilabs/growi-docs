# プラグイン開発の基本

## 開発の基本的な流れ

### 1. package.json を編集する

package.json にプラグインの基本情報を設定します。 `growiPlugin` ディレクティブを追加することで、そのリポジトリを GROWI プラグインとして認識させることができます。

複数種類のプラグインをサポートするには、プラグインの package.json ファイル内の `types` セクションに対応するタイプを列挙します。例えば以下のように記述することで、1つのプラグインが複数の機能を提供できます。

```json
{
  "name": "growi-plugin-example",  // プラグイン名
  "version": "1.0.0",
  "description": "Example GROWI plugin", // プラグインの説明
  "devDependencies": {
    "@growi/pluginkit": "^1.1.0", // GROWI プラグイン開発キット
  },
  "growiPlugin": {
    "schemaVersion": "4",
    "types": [ // 複数のプラグインタイプを同時に設定可能
      "script",
      "theme",
      "template"
    ]
  },
  // 他の設定...
}
```

### 2. ライブラリをインストールする

```
$ pnpm install
```

### 3. プラグインを実装する

各プラグインタイプに応じて、dist ディレクトリに配置すべきファイルが異なります。

1. **スクリプトプラグイン**: JavaScript ファイル
   - TypeScript で開発し Vite でトランスパイルする方法を推奨

2. **テーマプラグイン**: CSS ファイル
   - SCSS で開発し Vite でトランスパイルする方法を推奨

3. **テンプレートプラグイン**: meta.json と Markdown ファイルのセット

各プラグインタイプごとの詳細な実装方法については、以下のドキュメントを参照してください。

- [スクリプトプラグイン](/ja/dev/plugin/script.html)
- テーマプラグイン (準備中)
- テンプレートプラグイン (準備中)

### 4. プラグインを公開する(任意)

プラグインの開発が完了したら、以下の手順で公開しましょう。

1. 作成したプラグインを GitHub リポジトリにプッシュします。
2. リポジトリの「トピック」に `growi-plugin` を追加してください。
3. トピックを追加することで、[GROWI プラグイン一覧](https://growi.org/plugins)ページに自動的に表示されるようになります。

これにより、他の GROWI ユーザーがあなたの開発したプラグインを見つけて利用できるようになります。
