# ページを階層で整理する lsx 機能

:::tip
この機能は growi-plugin-lsx プラグインにより実装されている機能です。利用するためにはプラグインのインストールが必要です。インストール方法は[こちら](/ja/admin-guide/management-cookbook/app-settings.html#%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E8%A8%AD%E5%AE%9A)。

GROWI.Cloud 上で立ち上げている GROWI の場合、インストールは不要です。
:::

![lsx](./images/lsx_gif.gif)

GROWI では 作成したページを一覧表示する機能があります。

`$lsx()` (ドル記号と lsx と括弧) を記述すると、該当ページ配下のページ一覧を出力できます。

多数のページを管理する画面などで便利に使えます。

## 指定のページ配下を一覧出力

- `$lsx(/user)` と記載すると、トップページ直下の user ページ配下のページ一覧が出力されます。

- `$lsx(./サンプル)` と記述すると、編集中のページの配下の `サンプル` というページ配下のページ一覧が出力されます。

   指定ページ名には日本語も入力可能です。

   存在しないページ名を指定した場合、`$lsx(/サンプルmiss) has no contents` のようにページ一覧ではなくエラーメッセージが出力されます。

## lsx の便利なオプション機能

lsx にはページ指定だけでなく、複数のオプションを設定する事も出来ます。

ページ指定やオプションを組み合わせて使う場合は、`,` カンマ区切りで以下のように指定します。

`$lsx(/ページ, depth=1, sort=createdAt, reverse=true)`


- lsx オプション一覧

| パラメータ    | デフォルト値    |  説明   | 詳細 |
| --- | --- | --- | --- |
|  num   |  未設定(< growi-plugin-lsx 4.0.0), 50(>= growi-plugin-lsx 4.0.0)   | ページ一覧の出力数を指定。| [numオプション詳細](#num-オプション) |
|  depth   |  未設定   | 階層を指定してページ一覧を出力。| [depthオプション詳細](#depth-オプション) |
|  sort   |  path   | ページ一覧の並び順を指定。| [sortオプション詳細](#sort-オプション) |
|  reverse   |  false   | ページ一覧の並び順を逆にする。| [reverseオプション詳細](#reverse-オプション) |
|  filter   |  未設定   | ページ一覧に出力する内容をフィルタする。 | [filterオプション詳細](#filter-オプション) |


### num オプション

ページ一覧の出力数を指定出来ます。

`$lsx(num=5)` と表示件数指定できます。前から N 件目まで、指定したページ数表示します。

`$lsx(num=1:10)` など、数字と半角コロンまたは半角プラス記号で指定します。

num=1:10 で、先頭１件目から１０件目までの意味。

num=2: で先頭２件目から最後までの意味。

num=5+2 で先頭５件目から、そこから２件先まで(5,6,7)の意味。

### depth オプション

階層を指定してページ一覧を出力出来ます。

`$lsx(depth=1)` など、数字を記載して、表示する階層を指定出来ます。デフォルトだと全ての階層を表示します。

数字の指定は上記 num オプションと同様の表記が可能です。


### sort オプション
  
ページ一覧の並び順を、以下のいずれかで指定出来ます。

- `$lsx(sort=path)`

  ページ名の名前順にソート（デフォルトでこの設定）

- `$lsx(sort=createdAt)`

  作成された日付順に一覧出力

- `$lsx(sort=updatedAt)`

  更新された日付順に一覧出力

sort オプションを指定しない場合は、ページ名の名前順にページ一覧が出力されます。


### reverse オプション

出力順を逆にする事が出来ます。

`$lsx(sort=updatedAt, reverse=true)`

上記の組み合わせの場合、更新が新しい順に降順でページ一覧が出力されます。

### filter オプション

ページ一覧に出力する内容をフィルタする事が出来ます。

`$lsx(filter=2019)`

上記の場合、ページ名に `2019` が含まれるページが一覧として出力されます。

filter は部分一致で、日本語でもフィルタが可能です。

## GitHub

このページ一覧の書き方は、
[Pukiwiki lsx plugin](http://ukiya.sakura.ne.jp/index.php?PukiWiki%2F1.4%2F%E3%83%9E%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%AB%2F%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%2F%E7%8B%AC%E8%87%AA%E3%81%AB%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%9F%E3%82%82%E3%81%AE%2Flsx)
を参考にして、GROWI に組み込んでいる機能です。

[GitHub](https://github.com/weseek/growi-plugin-lsx)
