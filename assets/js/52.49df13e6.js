(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{500:function(t,e,a){"use strict";a.r(e);var s=a(69),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"growi-data-transfer-feature"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#growi-data-transfer-feature"}},[t._v("#")]),t._v(" GROWI data transfer feature")]),t._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),a("p",[t._v("This feature allows for easy data transfer from one GROWI to another.")]),t._v(" "),a("h2",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),a("p",[t._v("The following conditions must be met:")]),t._v(" "),a("ul",[a("li",[t._v("Both GROWI versions of the destination and source GROWI must match.")]),t._v(" "),a("li",[a("strong",[t._v("v6 or higher and the same version")]),t._v(".")]),t._v(" "),a("li",[t._v("If the environment variable "),a("code",[t._v("USER_UPPER_LIMIT")]),t._v(" is set, the destination USER_UPPER_LIMIT must be greater than the source USER_UPPER_LIMIT.")])]),t._v(" "),a("h2",{attrs:{id:"transfer-flow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transfer-flow"}},[t._v("#")]),t._v(" Transfer flow")]),t._v(" "),a("p",[t._v("The data transfer process is as follows:")]),t._v(" "),a("ol",[a("li",[a("Badge",{attrs:{text:"to",vertical:"middle"}}),t._v(" Publish a transfer key for authentication with the destination GROWI.\n")],1),t._v(" "),a("li",[a("Badge",{attrs:{text:"from",vertical:"middle",type:"warning"}}),t._v(" Enter the transfer key in the source GROWI and click the Start transfer button.\n")],1)]),t._v(" "),a("p",[t._v("Each step is explained in detail below.")]),t._v(" "),a("h2",{attrs:{id:"operations-on-the-destination-growi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#operations-on-the-destination-growi"}},[t._v("#")]),t._v(" "),a("Badge",{attrs:{text:"to",vertical:"middle"}}),t._v("  Operations on the destination GROWI")],1),t._v(" "),a("h3",{attrs:{id:"publish-transfer-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#publish-transfer-key"}},[t._v("#")]),t._v(" Publish transfer key")]),t._v(" "),a("ul",[a("li",[t._v("You can publish a transfer key regardless of whether GROWI is installed or not.\n"),a("ul",[a("li",[t._v("If installed, publish the transfer key from the admin page.")])])])]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/en/g2g-transfer-1.png"),alt:"g2g-transfer-1"}}),t._v(" "),a("ul",[a("li",[t._v("If not installed, publish the transfer key from the installer screen.")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/en/g2g-transfer-2.png"),alt:"g2g-transfer-2"}}),t._v(" "),a("h3",{attrs:{id:"transfer-key-expiration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transfer-key-expiration"}},[t._v("#")]),t._v(" Transfer key expiration")]),t._v(" "),a("ul",[a("li",[t._v("The transfer key is valid for 1 hour.")]),t._v(" "),a("li",[t._v("A transfer key can only be used once for transfer and cannot be reused.")])]),t._v(" "),a("h2",{attrs:{id:"operations-on-the-source-growi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#operations-on-the-source-growi"}},[t._v("#")]),t._v(" "),a("Badge",{attrs:{text:"from",vertical:"middle",type:"warning"}}),t._v(" Operations on the source GROWI")],1),t._v(" "),a("h3",{attrs:{id:"inputting-the-transfer-key-and-starting-the-transfer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#inputting-the-transfer-key-and-starting-the-transfer"}},[t._v("#")]),t._v(" Inputting the transfer key and starting the transfer")]),t._v(" "),a("ul",[a("li",[t._v("Enter the transfer key and click the start transfer button to start the transfer.")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/en/g2g-transfer-3.png"),alt:"g2g-transfer-3"}}),t._v(" "),a("h3",{attrs:{id:"select-the-collections-and-advanced-options-to-be-transferred"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#select-the-collections-and-advanced-options-to-be-transferred"}},[t._v("#")]),t._v(" Select the collections and advanced options to be transferred")]),t._v(" "),a("ul",[a("li",[t._v("By clicking the Advanced options button, you can configure which collections to transfer and adjust detailed settings for each collection.")]),t._v(" "),a("li",[t._v("By default, all collections are transferd, and the contents of the source and destination databases will be the same.")]),t._v(" "),a("li",[t._v("If duplicate data exists, it will be overwritten with the source data. However, the Config collection will be handled with a "),a("code",[t._v("Flush and insert")]),t._v(" operation.")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/en/g2g-transfer-4.png"),alt:"g2g-transfer-4"}}),t._v(" "),a("h2",{attrs:{id:"file-upload-settings-for-the-destination"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#file-upload-settings-for-the-destination"}},[t._v("#")]),t._v(" File upload settings for the destination")]),t._v(" "),a("p",[t._v("As of v6.0.5, the settings of "),a("strong",[t._v("the destination")]),t._v(" are used as they are.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("In a future update, the source's file upload settings will be selectable, and it will be possible to overwrite the destination's settings.")])]),t._v(" "),a("h2",{attrs:{id:"transferability-of-attached-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transferability-of-attached-files"}},[t._v("#")]),t._v(" Transferability of attached files")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("from/to")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Local")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("AWS(S3)")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("GCP(GCS)")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Azure(Blob)")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("MongoDB(GridFS)")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("未設定(none)")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Local")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("❌ Cannot transfer")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Cloud(S3)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("🚩 Transfer if settings differ")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("❌ Cannot transfer")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Cloud(GCS)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("🚩 Transfer if settings differ")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("❌ Cannot transfer")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Cloud(Azure)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("🚩 Transfer if settings differ")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("❌ Cannot transfer")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("GridFS")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("❌ Cannot transfer")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("None")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("❌ Cannot transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("❌ Cannot transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("❌ Cannot transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✅ Transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("❌ Cannot transfer")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("❌ Cannot transfer")])])])]),t._v(" "),a("ul",[a("li",[t._v("Cloud(S3/GCS/Azure) -> Cloud(GCS/S3/Azure)\n"),a("ul",[a("li",[t._v("If the service/bucket name differs, the files will be transferred.")]),t._v(" "),a("li",[t._v("If service/bucket name matches, no transfer. (Transfer is considered unnecessary and transfer is completed.)")])])]),t._v(" "),a("li",[t._v("Destination not installed\n"),a("ul",[a("li",[t._v("If the destination's environment variable "),a("code",[t._v("FILE_UPLOAD")]),t._v(" is set to 'aws' (default):\n"),a("ul",[a("li",[t._v("As of v6.0.5, files are "),a("strong",[t._v("not")]),t._v(" transferred.")]),t._v(" "),a("li",[t._v("A future update will make file transfer possible.")])])]),t._v(" "),a("li",[t._v("If the destination's environment variable "),a("code",[t._v("FILE_UPLOAD")]),t._v(" is set to 'mongodb' or 'local', the files are transferred.")]),t._v(" "),a("li",[t._v("If the destination's environment variable "),a("code",[t._v("FILE_UPLOAD")]),t._v(" is set to 'gcp', and the related GCP environment variables ("),a("code",[t._v("GCS_API_KEY_JSON_PATH")]),t._v(", "),a("code",[t._v("GCS_BUCKET")]),t._v(", "),a("code",[t._v("GCS_UPLOAD_NAMESPACE")]),t._v(") are configured, the files are transferred.")])])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("If the environment variable "),a("code",[t._v("FILE_UPLOAD_DISABLED=true")]),t._v(" is set on the destination, attached files cannot be transferred.")])])])}),[],!1,null,null,null);e.default=r.exports}}]);