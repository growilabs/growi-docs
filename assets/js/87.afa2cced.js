(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{534:function(t,e,a){"use strict";a.r(e);var s=a(69),o=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"upgrading-to-growi-v6-1-x"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-to-growi-v6-1-x"}},[t._v("#")]),t._v(" Upgrading to GROWI v6.1.x")]),t._v(" "),a("p",[t._v("GROWI v6.1 adds new features such as chart drawing by "),a("a",{attrs:{href:"https://mermaid.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mermaid"),a("OutboundLink")],1),t._v(", detachable permissions for viewing only, and a bookmark sidebar. Many other fixes and improvements have been made to ensure stable operation of each feature in response to the fundamental changes in the v6.0 series.")]),t._v(" "),a("ContextualBlock",{attrs:{context:"docs-growi-org"}},[a("p",[t._v("In addition, the supported middleware versions have been changed.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("GROWI")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("<= v6.0.x")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("v6.1.x")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Node.js")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("14, 16")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("16, 18")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("MongoDB")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("3.6, 4.0, 4.2, 4.4, 5")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("3.6, 4.0, 4.2, 4.4, 5, 6")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Elasticsearch")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("6, 7")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("7, 8")])])])]),t._v(" "),a("p",[t._v("There are changes to the execution environment and supported middleware, so admin should check the version used in their current environment before upgrading.")])]),t._v(" "),a("h2",{attrs:{id:"table-of-contents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#table-of-contents"}},[t._v("#")]),t._v(" Table of Contents")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#table-of-contents"}},[t._v("Table of Contents")])]),a("li",[a("a",{attrs:{href:"#for-admin"}},[t._v("For Admin")])]),a("li",[a("a",{attrs:{href:"#for-user"}},[t._v("For User")])]),a("li",[a("a",{attrs:{href:"#check-before-upgrading"}},[t._v("Check before upgrading")])])])]),a("p"),t._v(" "),a("ContextualBlock",{attrs:{context:"docs-growi-org"}},[a("h2",{attrs:{id:"for-admin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#for-admin"}},[t._v("#")]),t._v(" For Admin")]),t._v(" "),a("h3",{attrs:{id:"node-js-v14-no-longer-supported"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js-v14-no-longer-supported"}},[t._v("#")]),t._v(" Node.js v14 no longer supported")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("ul",[a("li",[t._v("Systems using "),a("a",{attrs:{href:"https://hub.docker.com/r/growilabs/growi/",target:"_blank",rel:"noopener noreferrer"}},[t._v("official Docker images"),a("OutboundLink")],1),t._v(" are not affected")])])]),t._v(" "),a("ul",[a("li",[t._v("Upgrade to v16 or v18")])]),t._v(" "),a("h3",{attrs:{id:"elasticsearch-v6-no-longer-supported-default-version-changed-to-v8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-v6-no-longer-supported-default-version-changed-to-v8"}},[t._v("#")]),t._v(" Elasticsearch v6 no longer supported, default version changed to v8")]),t._v(" "),a("p",[t._v("GROWI v6.1.0 removes code for Elasticsearch v6 and adds support for v8. Also, the default version used is now v8.")]),t._v(" "),a("ul",[a("li",[t._v("Systems using Elasticsearch v6 should upgrade to v7 or v8")]),t._v(" "),a("li",[t._v("If you want to use Elasticsearch v7, set "),a("code",[t._v("ELASTICSEARCH_VERSION")]),t._v(" to "),a("code",[t._v("7")]),t._v(" in "),a("RouterLink",{attrs:{to:"/en/admin-guide/admin-cookbook/env-vars.html"}},[t._v("environment variables")]),t._v(".")],1)]),t._v(" "),a("h3",{attrs:{id:"build-procedure-change"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-procedure-change"}},[t._v("#")]),t._v(" Build Procedure Change")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("This section is required if you are building from source code published on GitHub."),a("br"),t._v("\nIt is not required if you are using official docker images.")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://turbo.build/repo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Turborepo"),a("OutboundLink")],1),t._v(" is now required as a build tool instead of Lerna, which was previously used.\nSince it is not included in package.json, a global installation is required.\nPlease install it with the following command before building.")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("yarn global add turbo")])])]),t._v(" "),a("p",[t._v("For more information, see "),a("a",{attrs:{href:"https://github.com/growilabs/growi/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("README.md"),a("OutboundLink")],1),t._v(" and "),a("RouterLink",{attrs:{to:"/en/dev/startup-v5/start-development.html"}},[t._v("Development Startup")]),t._v(".")],1),t._v(" "),a("h3",{attrs:{id:"specification-change-change-file-save-location-under-file-upload-local-setting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-change-change-file-save-location-under-file-upload-local-setting"}},[t._v("#")]),t._v(" [Specification Change] Change File Save Location Under "),a("code",[t._v("FILE_UPLOAD=local")]),t._v(" Setting")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("The contents of this item are only required on systems configured to store attachments on the local file system."),a("br"),t._v("\nIt is not required for systems storing on AWS S3, GCP GCS, or MongoDB GridFS.")])]),t._v(" "),a("p",[t._v("The location of the "),a("code",[t._v("app")]),t._v(" package has changed, and the location of the files has changed.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Before")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}}),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("After")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("/opt/growi/packages/app/public")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("->")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("/opt/growi/apps/app/public")])])])])]),t._v(" "),a("p",[t._v("Please move existing files after upgrade.")]),t._v(" "),a("p",[t._v("Also see discussion below.\n"),a("a",{attrs:{href:"https://github.com/growilabs/growi/discussions/6086",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/growilabs/growi/discussions/6086"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"for-user"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#for-user"}},[t._v("#")]),t._v(" For User")]),t._v(" "),a("h3",{attrs:{id:"specification-change-elimination-of-mdcont-prefix-automatically-added-to-anchor-links"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-change-elimination-of-mdcont-prefix-automatically-added-to-anchor-links"}},[t._v("#")]),t._v(" [Specification Change] Elimination of "),a("code",[t._v("mdcont-")]),t._v(" Prefix Automatically Added to Anchor Links")]),t._v(" "),a("p",[t._v("Starting with v6.0.0, any anchor link in a page (including links in the auto-generated table of contents) was automatically given the prefix "),a("code",[t._v("mdcont-")]),t._v(".")]),t._v(" "),a("p",[t._v("Example:\nThe "),a("code",[t._v("id")]),t._v(" of the "),a("code",[t._v("Headers")]),t._v(" section in "),a("code",[t._v("/Sandbox")]),t._v(" is "),a("code",[t._v("#mdcont-headers")]),t._v(".")]),t._v(" "),a("p",[t._v("Starting with v6.1.0, this specification has been eliminated and the "),a("code",[t._v("mdcont-")]),t._v(" prefix is no longer attached.")]),t._v(" "),a("p",[t._v("However, there is no problem with GROWI-generated links such as the table of contents.\nIf the link contains a "),a("code",[t._v("mdcont-")]),t._v(" prefix in the document or if the link refers to a document or system outside of GROWI, it will not jump to the anchor when accessing the document.")]),t._v(" "),a("ContextualBlock",{attrs:{context:"docs-growi-org"}},[a("p",[t._v("Please rewrite the relevant links accordingly.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("The content of pages saved using the previous notation will not automatically change when the GROWI version is upgraded."),a("br"),t._v("\nWe have provided a script to batch rewrite Markdown documents to the new notation, please check the discussion below.\n"),a("a",{attrs:{href:"https://github.com/growilabs/growi/discussions/7180",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/growilabs/growi/discussions/7180"),a("OutboundLink")],1)])])]),t._v(" "),a("ContextualBlock",{attrs:{context:"help-growi-cloud"}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("The content of pages saved using the previous notation will not automatically change when GROWI is upgraded."),a("br"),t._v('\nGROWI.cloud support can delete all "mdcont-" pages with heading links that exist in GROWI.\nPlease contact GROWI.cloud support if you wish to do so. '),a("a",{attrs:{href:"https://growi.cloud/contact",target:"_blank",rel:"noopener noreferrer"}},[t._v("Inquiry Form"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("â€» The following operations are not handled by GROWI.cloud support.")]),t._v(" "),a("ul",[a("li",[t._v('Assigning "mdcont-" to an external tool other than GROWI')]),t._v(" "),a("li",[t._v('Deletion of "mdcont-" in GROWI headline links that exist in external tools other than GROWI')])])])]),t._v(" "),a("h2",{attrs:{id:"check-before-upgrading"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#check-before-upgrading"}},[t._v("#")]),t._v(" Check before upgrading")]),t._v(" "),a("ContextualBlock",{attrs:{context:"docs-growi-org"}},[a("ul",{staticClass:"contains-task-list"},[a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Upgrade to Node.js v16 or higher.")]),t._v(" "),a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Upgrade to Elasticsearch v7 or v8.")]),t._v(" "),a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" If you are building from source code, check the new build instructions.")]),t._v(" "),a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" On systems with "),a("code",[t._v("FILE_UPLOAD=local")]),t._v(" setting, check the procedure for moving files after the upgrade.")])])]),t._v(" "),a("ul",{staticClass:"contains-task-list"},[a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Check the change in anchor links.\n"),a("ul",{staticClass:"contains-task-list"},[a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Inform GROWI users about the change.")]),t._v(" "),a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Decide on a strategy for future rewrites of existing page content.")])])])])],1)}),[],!1,null,null,null);e.default=o.exports}}]);