(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{513:function(t,s,a){"use strict";a.r(s);var e=a(69),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"custom-bot-without-proxy-settings"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#custom-bot-without-proxy-settings"}},[t._v("#")]),t._v(" Custom bot without proxy Settings")]),t._v(" "),a("p",[t._v("【Diagram】\n"),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-outline-custom-without-proxy.png"),alt:"diagram-for-custom-bot-without-proxy"}})]),t._v(" "),a("p",[t._v("To deploy a custom bot without proxy in your Slack workspace,\nyou need to create and edit a Slack app.\nThe steps are as follows.")]),t._v(" "),a("h2",{attrs:{id:"before-creating-slack-app"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#before-creating-slack-app"}},[t._v("#")]),t._v(" Before creating Slack app")]),t._v(" "),a("p",[t._v("Start the GROWI main server.")]),t._v(" "),a("h2",{attrs:{id:"select-bot-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#select-bot-type"}},[t._v("#")]),t._v(" Select Bot type")]),t._v(" "),a("p",[t._v("Select Custom bot without proxy in Slack Integration of the Management page.")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-selecting-custom-bot-without-proxy.png"),alt:"slack-bot-selecting-custom-bot-without-proxy"}}),t._v(" "),a("h2",{attrs:{id:"create-a-slack-app"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-a-slack-app"}},[t._v("#")]),t._v(" Create a Slack app")]),t._v(" "),a("ol",[a("li",[t._v("Go to the "),a("a",{attrs:{href:"https://api.slack.com/apps",target:"_blank",rel:"noopener noreferrer"}},[t._v("App Page"),a("OutboundLink")],1),t._v(" of the Slack API and click "),a("strong",[t._v("Create New App")]),t._v(" button.")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-custom-bot1.png"),alt:"slack-custom-bot1"}}),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Click [From an app manifest].")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-custom-bot2.png"),alt:"slack-custom-bot2"}}),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("Select the workspace where you want to install the app and click [Next].")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-custom-bot3.png"),alt:"slack-custom-bot3"}}),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("Paste the following App Manifest into the [YAML] tab, and click [Next].")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-custom-bot4.png"),alt:"slack-custom-bot4"}}),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("_metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("major_version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("minor_version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("display_information")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" GROWI BOT\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("features")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("bot_user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("display_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" GROWI BOT\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("always_online")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("slash_commands")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /growi\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("GROWI domain name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/_api/v3/slack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("integration/commands\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Test Bot\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("should_escape")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("unfurl_domains")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("GROWI domain name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("oauth_config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("redirect_urls")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("GROWI domain name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/slack/oauth_redirect\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scopes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("bot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" channels"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("history\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" channels"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("join\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" chat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("write\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" chat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("write.public\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" commands\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" groups"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("history\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" im"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("history\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" links"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("read\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" links"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("write\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" mpim"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("history\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" team"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("read\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("settings")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("event_subscriptions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("request_url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("GROWI domain name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/_api/v3/slack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("integration/events\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("bot_events")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" link_shared\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("interactivity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("is_enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("request_url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("GROWI domain name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/_api/v3/slack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("integration/interactions\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("org_deploy_enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("socket_mode_enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("token_rotation_enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[t._v("After reviewing the app overview, click [Create] to create the app.")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-custom-bot5.png"),alt:"slack-custom-bot5"}}),t._v(" "),a("h2",{attrs:{id:"install-the-custom-bot-without-proxy-in-your-slack-workspace"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-the-custom-bot-without-proxy-in-your-slack-workspace"}},[t._v("#")]),t._v(" Install the Custom bot without proxy in your Slack workspace")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("In the Slack App you created, go to "),a("strong",[t._v("Settings")]),t._v(" and click "),a("strong",[t._v("Basic Information")]),t._v(".")])]),t._v(" "),a("li",[a("p",[t._v("Click the "),a("strong",[t._v("Install your app")]),t._v(".")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-install-your-app-introduction.png"),alt:"slack-bot-install-your-app-introduction"}})]),t._v(" "),a("li",[a("p",[t._v("Click the "),a("strong",[t._v("Install to Workspace")]),t._v(".")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-install-to-workspace.png"),alt:"slack-bot-install-to-workspace"}})]),t._v(" "),a("li",[a("p",[t._v("On the destination screen, Click the "),a("strong",[t._v("Allow")]),t._v(" button.")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-install-your-app-transition-destination.png"),alt:"slack-bot-install-your-app-transition-destination"}})]),t._v(" "),a("li",[a("p",[t._v("If you see a green check mark to the right of Install your app, the installation is complete in your workspace.")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-install-your-app-complete.png"),alt:"slack-bot-install-your-app-complete"}})]),t._v(" "),a("li",[a("p",[t._v("Invite the channel you want to use the GROWI bot on using @example.")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-install-to-workspace-joined-bot.png"),alt:"slack-bot-install-to-workspace-joined-bot"}}),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-install-your-app-introduction-to-channel.png"),alt:"slack-bot-install-your-app-introduction-to-channel"}})])]),t._v(" "),a("h2",{attrs:{id:"signing-secret-and-bot-user-oauth-token-settings"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#signing-secret-and-bot-user-oauth-token-settings"}},[t._v("#")]),t._v(" Signing Secret and Bot User OAuth Token settings")]),t._v(" "),a("p",[t._v("Before setting Signing Secret and Bot User OAuth Token, check the values.")]),t._v(" "),a("h3",{attrs:{id:"how-to-check-signing-secret"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-check-signing-secret"}},[t._v("#")]),t._v(" How to check Signing Secret")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("In the Slack App you created, go to "),a("strong",[t._v("Settings")]),t._v(" and click "),a("strong",[t._v("Basic Information")]),t._v(".")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-basic-information.png"),alt:"slack-bot-basic-information"}})]),t._v(" "),a("li",[a("p",[t._v("Push "),a("strong",[t._v("show")]),t._v(" button for "),a("strong",[t._v("Signing Secret")]),t._v(" in App Credentials to confirm.\n"),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-signing-secret.png"),alt:"slack-bot-signing-secret"}})])])]),t._v(" "),a("h3",{attrs:{id:"how-to-check-bot-user-oauth-token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-check-bot-user-oauth-token"}},[t._v("#")]),t._v(" How to check Bot User OAuth Token")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("In the Slack App you created, go to "),a("strong",[t._v("Settings")]),t._v(" and click "),a("strong",[t._v("OAuth and Permissions")]),t._v(".")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-oauth-and-permissions-introduction.png"),alt:"slack-bot-oauth-and-permissions-introduction"}})]),t._v(" "),a("li",[a("p",[t._v("Check "),a("strong",[t._v("Bot User Oauth Token")]),t._v(" in "),a("strong",[t._v("OAuth Tokens for Your Team")]),t._v(".")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-oauth-and-permissions.png"),alt:"slack-bot-oauth-and-permissions"}})])]),t._v(" "),a("p",[t._v("There are two ways to set Signing Secret and Bot User OAuth Token: 1. Set them in the Management page 2. Set them with environment variables. It is easier to set them in the Management page. Also,\nin case that you input values in both the Management page and environment variable, the Management page value will take a priority. That's why settings in the Management page is recommended.")]),t._v(" "),a("ul",[a("li",[a("ol",[a("li",[t._v("How to set them in Management page")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Go to the Slack integration in the Management page and input Signing Secret and Bot User OAuth Token, then click on the "),a("strong",[t._v("Update")]),t._v(" button.")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-register-introduction.png"),alt:"slack-bot-register-introduction"}})]),t._v(" "),a("li",[a("p",[t._v("When a green checkmark appears in the red circle, registration is completed.")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-register-secrets.png"),alt:"slack-bot-register-secrets"}})])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[t._v("How to set them with environment variables")])]),t._v(" "),a("ul",[a("li",[t._v("Assign "),a("code",[t._v("SLACK_SIGNING_SECRET")]),t._v(" and "),a("code",[t._v("SLACK_BOT_TOKEN")]),t._v(" with the values you checked.")])])])]),t._v(" "),a("h2",{attrs:{id:"run-connectivity-test-of-custom-bot-without-proxy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#run-connectivity-test-of-custom-bot-without-proxy"}},[t._v("#")]),t._v(" Run connectivity test of Custom bot without proxy")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Click "),a("strong",[t._v("Test connection")]),t._v(" and input the Slack channel to which invited GROWI-Bot.")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-test-introduction.png"),alt:"slack-bot-test-introduction"}})]),t._v(" "),a("li",[a("p",[t._v("Click on the "),a("strong",[t._v("Test")]),t._v(" button.")])])]),t._v(" "),a("ul",[a("li",[t._v("In case of success"),a("br"),t._v(" "),a("strong",[t._v("Successfully sent to Slack workspace.")]),t._v(" will be displayed at Logs. Green checkmarks will appear in red circles. Check the channel to which you invited GROWI-Bot.\n"),a("ul",[a("li",[a("p",[t._v("GROWI side")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-test-success.png"),alt:"slack-bot-test-success"}})]),t._v(" "),a("li",[a("p",[t._v("Slack side")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/images/slack-bot-test-success-at-slack-app.png"),alt:"slack-bot-test-success-at-slack-app"}})])])]),t._v(" "),a("li",[t._v("In case of failure"),a("br"),t._v("\nSee "),a("RouterLink",{attrs:{to:"/en/admin-guide/management-cookbook/slack-integration/#error-logs-for-connectivity-test"}},[t._v("Error logs for connectivity test")])],1)]),t._v(" "),a("p",[t._v("Once you are all set up, see "),a("RouterLink",{attrs:{to:"/en/admin-guide/management-cookbook/slack-integration/#check-the-connected-growi"}},[t._v("what you can do with a GROWI-bot")])],1)])}),[],!1,null,null,null);s.default=n.exports}}]);