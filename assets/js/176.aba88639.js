(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{622:function(a,t,s){"use strict";s.r(t);var e=s(69),o=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"mongodb-のアップグレード"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-のアップグレード"}},[a._v("#")]),a._v(" MongoDB のアップグレード")]),a._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#mongodb-v3-4-から-v3-6-へのアップグレード"}},[a._v("MongoDB v3.4 から v3.6 へのアップグレード")])]),s("li",[s("a",{attrs:{href:"#mongodb-v3-6-から-v4-0-へのアップグレード"}},[a._v("MongoDB v3.6 から v4.0 へのアップグレード")])]),s("li",[s("a",{attrs:{href:"#mongodb-v4-0-から-v4-2-へのアップグレード"}},[a._v("MongoDB v4.0 から v4.2 へのアップグレード")])]),s("li",[s("a",{attrs:{href:"#mongodb-v4-2-から-v4-4-へのアップグレード"}},[a._v("MongoDB v4.2 から v4.4 へのアップグレード")])]),s("li",[s("a",{attrs:{href:"#mongodb-v4-4-から-v5-0-へのアップグレード"}},[a._v("MongoDB v4.4 から v5.0 へのアップグレード")])]),s("li",[s("a",{attrs:{href:"#mongodb-v5-0-から-v6-0-へのアップグレード"}},[a._v("MongoDB v5.0 から v6.0 へのアップグレード")])]),s("li",[s("a",{attrs:{href:"#付録a-docker-ユーザーのためのアップグレード手順例"}},[a._v("付録A: docker ユーザーのためのアップグレード手順例")])]),s("li",[s("a",{attrs:{href:"#付録b-docker-compose-ユーザーのためのアップグレード手順例"}},[a._v("付録B: docker-compose ユーザーのためのアップグレード手順例")])])])]),s("p"),a._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),s("p",[a._v("この項目の内容は、以下の GROWI バーションアップ時に必要な場合があります。")]),a._v(" "),s("ul",[s("li",[s("RouterLink",{attrs:{to:"/ja/admin-guide/upgrading/61x.html"}},[a._v("v6.1.x へのアップグレード")])],1),a._v(" "),s("li",[s("RouterLink",{attrs:{to:"/ja/admin-guide/upgrading/42x.html"}},[a._v("v4.2.x へのアップグレード")])],1),a._v(" "),s("li",[s("RouterLink",{attrs:{to:"/ja/admin-guide/upgrading/34x.html"}},[a._v("v3.4.x へのアップグレード")])],1)])]),a._v(" "),s("p",[a._v("GROWI のバージョン v4.1.x から v4.2.x にアップグレードする場合は、以下のセクションのうち、「v3.4からv3.6(またはv3.6からv4.0)」から「v4.2からv4.4」までを上から順に一つずつ操作する必要があります。")]),a._v(" "),s("p",[a._v("GROWI のバージョン v6.0.x から v6.1.x にアップグレードする場合は、以下のセクションのうち、「v4.4からv5.0」から「v5.0からv6.0」までを上から順に一つずつ操作する必要があります。\n")]),a._v(" "),s("h2",{attrs:{id:"mongodb-v3-4-から-v3-6-へのアップグレード"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v3-4-から-v3-6-へのアップグレード"}},[a._v("#")]),a._v(" MongoDB v3.4 から v3.6 へのアップグレード")]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("Note")]),a._v(" "),s("p",[a._v("GROWI v3.3以前を利用したことがない場合、本セクションは飛ばして構いません。")])]),a._v(" "),s("p",[a._v("v3.4 から v3.6 へのアップグレードは"),s("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/3.6-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),s("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),s("h2",{attrs:{id:"mongodb-v3-6-から-v4-0-へのアップグレード"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v3-6-から-v4-0-へのアップグレード"}},[a._v("#")]),a._v(" MongoDB v3.6 から v4.0 へのアップグレード")]),a._v(" "),s("p",[a._v("v3.6 から v4.0 へのアップグレードは"),s("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/4.0-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),s("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),s("h2",{attrs:{id:"mongodb-v4-0-から-v4-2-へのアップグレード"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v4-0-から-v4-2-へのアップグレード"}},[a._v("#")]),a._v(" MongoDB v4.0 から v4.2 へのアップグレード")]),a._v(" "),s("p",[a._v("v4.0 から v4.2 へのアップグレードは"),s("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/4.2-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),s("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),s("h2",{attrs:{id:"mongodb-v4-2-から-v4-4-へのアップグレード"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v4-2-から-v4-4-へのアップグレード"}},[a._v("#")]),a._v(" MongoDB v4.2 から v4.4 へのアップグレード")]),a._v(" "),s("p",[a._v("v4.2 から v4.4 へのアップグレードは"),s("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/4.4-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),s("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),s("h2",{attrs:{id:"mongodb-v4-4-から-v5-0-へのアップグレード"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v4-4-から-v5-0-へのアップグレード"}},[a._v("#")]),a._v(" MongoDB v4.4 から v5.0 へのアップグレード")]),a._v(" "),s("p",[a._v("v4.4 から v5.0  へのアップグレードは"),s("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/5.0-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),s("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),s("h2",{attrs:{id:"mongodb-v5-0-から-v6-0-へのアップグレード"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v5-0-から-v6-0-へのアップグレード"}},[a._v("#")]),a._v(" MongoDB v5.0 から v6.0 へのアップグレード")]),a._v(" "),s("p",[a._v("v5.0 から v6.0 へのアップグレードは"),s("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/6.0-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),s("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),s("h2",{attrs:{id:"付録a-docker-ユーザーのためのアップグレード手順例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#付録a-docker-ユーザーのためのアップグレード手順例"}},[a._v("#")]),a._v(" 付録A: docker ユーザーのためのアップグレード手順例")]),a._v(" "),s("p",[a._v("以下は MongoDB を v5.0 から v6.0 にアップグレードする場合の例です。"),s("br"),a._v("\n実際の MongoDB コンテナ名を "),s("code",[a._v("MONGO_CONTAINER_NAME")]),a._v(" に設定してください。")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("MongoDB v5.0 起動中に以下を実行")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MONGO_VERSION")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5.0")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MONGO_CONTAINER_NAME")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("mymongodb\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$MONGO_CONTAINER_NAME")]),a._v(" mongo "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--eval")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'db.adminCommand( { setFeatureCompatibilityVersion: \"'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$MONGO_VERSION")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'\" } )'")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("MongoDB v5.0 を停止")])]),a._v(" "),s("li",[s("p",[a._v("MongoDB v6.0 を起動")])])]),a._v(" "),s("h2",{attrs:{id:"付録b-docker-compose-ユーザーのためのアップグレード手順例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#付録b-docker-compose-ユーザーのためのアップグレード手順例"}},[a._v("#")]),a._v(" 付録B: docker-compose ユーザーのためのアップグレード手順例")]),a._v(" "),s("p",[a._v("以下は MongoDB を v5.0 から v6.0 にアップグレードする場合の例です。"),s("br"),a._v("\n実際の MongoDB サービス名を "),s("code",[a._v("MONGO_SERVICE_NAME")]),a._v(" に設定してください。")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("MongoDB v5.0 起動中に以下を実行")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MONGO_VERSION")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5.0")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MONGO_SERVICE_NAME")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("mymongodb\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker-compose")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$MONGO_SERVICE_NAME")]),a._v(" mongo "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--eval")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'db.adminCommand( { setFeatureCompatibilityVersion: \"'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$MONGO_VERSION")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'\" } )'")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("MongoDB v5.0 を停止")])]),a._v(" "),s("li",[s("p",[a._v("yml 内の MongoDB の指定バージョンを変更")])]),a._v(" "),s("li",[s("p",[a._v("MongoDB v6.0 を起動")])])])])}),[],!1,null,null,null);t.default=o.exports}}]);