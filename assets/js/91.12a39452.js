(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{538:function(t,e,a){"use strict";a.r(e);var s=a(69),i=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"upgrading-to-growi-v7-1-x"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-to-growi-v7-1-x"}},[t._v("#")]),t._v(" Upgrading to GROWI v7.1.x")]),t._v(" "),a("p",[t._v("GROWI v7.1 adds GROWI AI functionality, allowing GROWI to be used as a Retrieval-Augmented Generation (RAG) tool.")]),t._v(" "),a("h2",{attrs:{id:"table-of-contents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#table-of-contents"}},[t._v("#")]),t._v(" Table of Contents")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#table-of-contents"}},[t._v("Table of Contents")])]),a("li",[a("a",{attrs:{href:"#new-feature-growi-ai-beta"}},[t._v("[New Feature] GROWI AI (Beta)")])]),a("li",[a("a",{attrs:{href:"#for-admin"}},[t._v("For Admin")])]),a("li",[a("a",{attrs:{href:"#for-developer"}},[t._v("For developer")])]),a("li",[a("a",{attrs:{href:"#check-before-upgrading"}},[t._v("Check before upgrading")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"new-feature-growi-ai-beta"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-feature-growi-ai-beta"}},[t._v("#")]),t._v(" [New Feature] GROWI AI (Beta)")]),t._v(" "),a("p",[t._v("In GROWI v7.1.x, the "),a("strong",[t._v("GROWI AI")]),t._v(" has been newly added with the aim of improving the efficiency of information collection and management in the knowledge base.\nThe GROWI AI is a general term for a group of functions that utilize generative AI,\nsuch as the knowledge assistant that has been added this time and the vector search that will be implemented in the future.\n")]),t._v(" "),a("p",[t._v("The first of the GROWI AI features, "),a("strong",[t._v("Knowledge Assistant")]),t._v(", is a function that generates answers based on information in GROWI\nin response to questions from users in chat format. This allows users to obtain the information they need quickly and efficiently.")]),t._v(" "),a("p",[t._v("Currently, the GROWI AI works with the OpenAI API, and the model used is fixed to GPT-4 (see the additional update information).\nFuture updates are planned to include integration with Azure OpenAI Service, model selection functionality, and even integration with LLMs other than OpenAI.\nAdvanced functions such as vector search are also planned to be added in the future.")]),t._v(" "),a("p",[t._v("For more information, please see "),a("a",{attrs:{href:"url"}},[t._v("label")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"additional-information-for-v7-1-2-release"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#additional-information-for-v7-1-2-release"}},[t._v("#")]),t._v(" Additional Information for v7.1.2 Release")]),t._v(" "),a("p",[t._v("Starting from v7.1.2, it is now possible to change the model used by the Knowledge Assistant.")]),t._v(" "),a("ul",[a("li",[t._v("The default value has been changed to "),a("code",[t._v("gpt-4o-mini")])]),t._v(" "),a("li",[t._v("For more details, please refer to the "),a("code",[t._v("OPENAI_CHAT_ASSISTANT_MODEL")]),t._v(" section on the "),a("RouterLink",{attrs:{to:"/en/admin-guide/admin-cookbook/env-vars.html"}},[t._v("Environment Variables")]),t._v(" page.")],1)]),t._v(" "),a("h2",{attrs:{id:"for-admin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#for-admin"}},[t._v("#")]),t._v(" For Admin")]),t._v(" "),a("ContextualBlock",{attrs:{context:"docs-growi-org"}},[a("h3",{attrs:{id:"deprecated-end-of-support-for-mongodb-4-4-and-5-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deprecated-end-of-support-for-mongodb-4-4-and-5-0"}},[t._v("#")]),t._v(" [Deprecated] End of Support for MongoDB 4.4 and 5.0")]),t._v(" "),a("p",[t._v("In GROWI v7.1.x, support for the database MongoDB versions 4.4 and 5.0 has ended.\nSystems using these versions should upgrade to MongoDB 6.0 or higher.")])]),t._v(" "),a("h3",{attrs:{id:"specification-change-changing-the-default-value-of-acl-settings-when-using-aws-s3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-change-changing-the-default-value-of-acl-settings-when-using-aws-s3"}},[t._v("#")]),t._v(" [Specification Change] Changing the default value of ACL settings when using AWS S3")]),t._v(" "),a("ContextualBlock",{attrs:{context:"help-growi-cloud"}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("This change applies only to apps that have the "),a("RouterLink",{attrs:{to:"/en/cloud/attachment.html"}},[t._v("Attachment Storage Location")]),t._v(" setting set to "),a("strong",[t._v("[Owned] AWS")])],1)])]),t._v(" "),a("h4",{attrs:{id:"background"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#background"}},[t._v("#")]),t._v(" Background")]),t._v(" "),a("p",[t._v("In the GROWI system up to v7.0.x, when uploading a file to AWS S3 (PutObject operation), "),a("code",[t._v("ACL: 'public-read'")]),t._v(" is set for the object.\nThis was inherited from the Crowi implementation, which was the fork of the system,\nand was maintained for a long time for backward compatibility, but will be changed from v7.1.x onwards for security reasons.")]),t._v(" "),a("details",[a("summary",[t._v("Reference for background")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://dev.growi.org/5d091f611fe336003eec5bfd",target:"_blank",rel:"noopener noreferrer"}},[t._v("(ja) Dev Wiki: /資料/外部仕様/S3のACL設定"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("Changes in v7.0.5\n"),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/growilabs/growi/pull/8778",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/growilabs/growi/pull/8778"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/growilabs/growi/pull/8805",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/growilabs/growi/pull/8805"),a("OutboundLink")],1)])])])])]),t._v(" "),a("h4",{attrs:{id:"changes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#changes"}},[t._v("#")]),t._v(" Changes")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Version")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Behavior when uploading a file (PutObject operation)")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("v7.0.x or earlier")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Request to add object ACL setting "),a("code",[t._v("ACL: 'public-read'")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("v7.1.x or later")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Request not to set object ACL")])])])]),t._v(" "),a("h4",{attrs:{id:"impact-on-viewing-attachments"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#impact-on-viewing-attachments"}},[t._v("#")]),t._v(" Impact on viewing attachments")]),t._v(" "),a("p",[t._v("You may be unable to access attachments uploaded from very old GROWI systems. Specifically, these are attachments that meet the following criteria:")]),t._v(" "),a("ul",[a("li",[t._v("Attachments uploaded when using a system prior to v3.3.0\n"),a("ul",[a("li",[t._v("URLs such as the following written in Markdown")]),t._v(" "),a("li",[a("code",[t._v("https://${AWS bucket name}.s3.amazonaws.com/attachment/5d091f611fe336003eec5bfd/foobar.jpg")])])])])]),t._v(" "),a("h4",{attrs:{id:"recommended-settings-for-v7-1-x-and-later"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#recommended-settings-for-v7-1-x-and-later"}},[t._v("#")]),t._v(" Recommended settings for v7.1.x and later")]),t._v(" "),a("ul",[a("li",[t._v("Change the bucket settings as follows according to the official docs: "),a("a",{attrs:{href:"https://docs.aws.amazon.com/AmazonS3/latest/userguide/security-best-practices.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Security best practices for Amazon S3"),a("OutboundLink")],1),t._v(" "),a("ul",[a("li",[t._v("Disable ACLs for S3 bucket")]),t._v(" "),a("li",[t._v("Block Public Access to S3 bucket")])])]),t._v(" "),a("li",[t._v("If the environment variable "),a("code",[t._v("S3_OBJECT_ACL=public-read")]),t._v(" is set for GROWI, change the value to "),a("code",[t._v("private")]),t._v(" or delete the setting")])]),t._v(" "),a("ContextualBlock",{attrs:{context:"docs-growi-org"}},[a("h4",{attrs:{id:"continue-using-the-same-s3-bucket-settings-as-before-on-v7-1-x-or-later-not-recommended"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#continue-using-the-same-s3-bucket-settings-as-before-on-v7-1-x-or-later-not-recommended"}},[t._v("#")]),t._v(" Continue using the same S3 bucket settings as before on v7.1.x or later (not recommended)")]),t._v(" "),a("ul",[a("li",[t._v("Set the environment variable "),a("code",[t._v("S3_OBJECT_ACL=public-read")]),t._v(" for GROWI")])])]),t._v(" "),a("ContextualBlock",{attrs:{context:"docs-growi-org"}},[a("h3",{attrs:{id:"specification-change-due-to-deprecation-パッケージマネージャー・タスクランナーの変更"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-change-due-to-deprecation-パッケージマネージャー・タスクランナーの変更"}},[t._v("#")]),t._v(" [Specification Change Due to Deprecation] パッケージマネージャー・タスクランナーの変更")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("ul",[a("li",[t._v("Systems using "),a("a",{attrs:{href:"https://hub.docker.com/r/growilabs/growi/",target:"_blank",rel:"noopener noreferrer"}},[t._v("official Docker images"),a("OutboundLink")],1),t._v(" are not affected")])])]),t._v(" "),a("p",[t._v("Previously, yarn (v1) was used as the package manager and the task runner, but starting with GROWI v7.1, pnpm has been adopted.")]),t._v(" "),a("ul",[a("li",[t._v("Refer to the "),a("a",{attrs:{href:"https://pnpm.io/installation",target:"_blank",rel:"noopener noreferrer"}},[t._v("'Installation' page on the official pnpm site"),a("OutboundLink")],1),t._v(" for installation instructions.\n"),a("ul",[a("li",[t._v("Install version 9.4 or higher.")])])]),t._v(" "),a("li",[t._v("Replace instances where npm scripts are executed with the "),a("code",[t._v("yarn")]),t._v(" command with "),a("code",[t._v("pnpm run")]),t._v(" or "),a("code",[t._v("npm run")]),t._v(".")])])]),t._v(" "),a("ContextualBlock",{attrs:{context:"docs-growi-org"}},[a("h2",{attrs:{id:"for-developer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#for-developer"}},[t._v("#")]),t._v(" For developer")]),t._v(" "),a("h3",{attrs:{id:"update-development-environment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#update-development-environment"}},[t._v("#")]),t._v(" Update development environment")]),t._v(" "),a("p",[t._v("Previously, yarn (v1) was used as the package manager, but starting with GROWI v7.1, pnpm has been adopted.")]),t._v(" "),a("ul",[a("li",[t._v("Please refer to "),a("RouterLink",{attrs:{to:"/en/dev/startup-v6/dev-env.html"}},[t._v("Getting Started v6")]),t._v(" to rebuild your development environment.")],1)])]),t._v(" "),a("h2",{attrs:{id:"check-before-upgrading"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#check-before-upgrading"}},[t._v("#")]),t._v(" Check before upgrading")]),t._v(" "),a("ContextualBlock",{attrs:{context:"docs-growi-org"}},[a("ul",{staticClass:"contains-task-list"},[a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Check your GROWI uses MongoDB 4.4 or 5.0")]),t._v(" "),a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Check your GROWI specifies AWS S3 as the file upload method\n"),a("ul",{staticClass:"contains-task-list"},[a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Consider measures for attachments that may become inaccessible\n"),a("ul",{staticClass:"contains-task-list"},[a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Check the current S3 bucket settings")]),t._v(" "),a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Delete or set a new value for the environment variable "),a("code",[t._v("S3_OBJECT_ACL")])])])]),t._v(" "),a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Inform GROWI users about the change.")])])]),t._v(" "),a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Check if you are using the official Docker image\n"),a("ul",{staticClass:"contains-task-list"},[a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Check if the "),a("code",[t._v("yarn")]),t._v(" command is used during build and startup")])])])])]),t._v(" "),a("ContextualBlock",{attrs:{context:"help-growi-cloud"}},[a("ul",{staticClass:"contains-task-list"},[a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Check your GROWI is using "),a("strong",[t._v("[Owned] AWS")]),t._v(" as the attachment storage location\n"),a("ul",{staticClass:"contains-task-list"},[a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Consider measures for attachments that may become inaccessible\n"),a("ul",{staticClass:"contains-task-list"},[a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Check the current S3 bucket settings")])])]),t._v(" "),a("li",{staticClass:"task-list-item"},[a("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" Inform GROWI users about the change.")])])])])])],1)}),[],!1,null,null,null);e.default=i.exports}}]);