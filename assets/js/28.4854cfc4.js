(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{476:function(t,e,a){"use strict";a.r(e);var o=a(69),i=Object(o.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"setup-with-audit-log"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup-with-audit-log"}},[t._v("#")]),t._v(" Setup with Audit Log")]),t._v(" "),a("p",[t._v("How to make the "),a("RouterLink",{attrs:{to:"/en/admin-guide/management-cookbook/audit-log.html"}},[t._v("audit log")]),t._v(" available and what logs to collect.")],1),t._v(" "),a("h2",{attrs:{id:"enabling-the-audit-log"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enabling-the-audit-log"}},[t._v("#")]),t._v(" Enabling the Audit Log")]),t._v(" "),a("p",[t._v("To enable the Audit Log, set the environment variable "),a("code",[t._v("AUDIT_LOG_ENABLED")]),t._v(" to "),a("code",[t._v("true")]),t._v(". From the moment you set "),a("code",[t._v("true")]),t._v(", log collection, display, and retrieval will be enabled.")]),t._v(" "),a("h2",{attrs:{id:"log-types"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-types"}},[t._v("#")]),t._v(" Log types")]),t._v(" "),a("p",[t._v("The logs collected by GROWI are divided into three groups: "),a("code",[t._v("SMALL")]),t._v(", "),a("code",[t._v("MEDIUM")]),t._v(", and "),a("code",[t._v("LARGE")]),t._v(". The default is "),a("code",[t._v("SMALL")]),t._v(", which can be changed from the environment variable "),a("code",[t._v("AUDIT_LOG_ACTION_GROUP_SIZE")]),t._v(".")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[a("code",[t._v("SMALL")])]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[a("code",[t._v("MEDIUM")])]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[a("code",[t._v("LARGE")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Login, Logout,"),a("br"),t._v("Create Page, Delete Page")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("⭕️")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("⭕️")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("⭕️")])]),t._v(" "),a("tr",[a("td",[t._v("All operations performed by ordinary users"),a("sup",{staticClass:"footnote-ref"},[a("a",{attrs:{href:"#fn1",id:"fnref1"}},[t._v("[1]")])])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("❌")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("⭕️")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("⭕️")])]),t._v(" "),a("tr",[a("td",[t._v("All operations performed by the admin user")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("❌")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("❌")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("⭕️")])])])]),t._v(" "),a("h2",{attrs:{id:"add-exclude-logs-to-be-collected"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add-exclude-logs-to-be-collected"}},[t._v("#")]),t._v(" Add/Exclude logs to be collected")]),t._v(" "),a("p",[t._v("Actions included/excluded in the group set in "),a("code",[t._v("AUDIT_LOG_ACTION_GROUP_SIZE")]),t._v(" can be added/excluded individually.")]),t._v(" "),a("ul",[a("li",[t._v("Actions not included in the set group can be added/excluded individually.\n"),a("ul",[a("li",[t._v("Specify the environment variable "),a("code",[t._v("AUDIT_LOG_ADDITIONAL_ACTIONS")]),t._v(" in CSV format (comma separated string)")]),t._v(" "),a("li",[t._v("Example: "),a("code",[t._v("AUDIT_LOG_ADDITIONAL_ACTIONS=PAGE_VIEW,USER_PASSWORD_UPDATE")]),t._v(".")])])]),t._v(" "),a("li",[t._v("Exclude actions in a configured group individually\n"),a("ul",[a("li",[t._v("Specify the environment variable "),a("code",[t._v("AUDIT_LOG_EXCLUDE_ACTIONS")]),t._v(" in CSV format (comma separated string)")]),t._v(" "),a("li",[t._v("Example: "),a("code",[t._v("AUDIT_LOG_EXCLUDE_ACTIONS=PAGE_CREATE,USER_LOGOUT")]),t._v(".")])])])]),t._v(" "),a("h2",{attrs:{id:"list-of-supported-actions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#list-of-supported-actions"}},[t._v("#")]),t._v(" List of supported actions")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/growilabs/growi/blob/master/packages/app/src/interfaces/activity.ts#L9",target:"_blank",rel:"noopener noreferrer"}},[t._v("name of action that can be collected"),a("OutboundLink")],1)])]),t._v(" "),a("hr",{staticClass:"footnotes-sep"}),t._v(" "),a("section",{staticClass:"footnotes"},[a("ol",{staticClass:"footnotes-list"},[a("li",{staticClass:"footnote-item",attrs:{id:"fn1"}},[a("p",[t._v('"All operations performed by ordinary users" does not include the event for page viewing ('),a("code",[t._v("ACTION_PAGE_VIEW")]),t._v("). To record it, please add the event indipendently with "),a("code",[t._v("AUDIT_LOG_ADDITIONAL_ACTIONS")]),t._v(". "),a("a",{staticClass:"footnote-backref",attrs:{href:"#fnref1"}},[t._v("↩︎")])])])])])])}),[],!1,null,null,null);e.default=i.exports}}]);