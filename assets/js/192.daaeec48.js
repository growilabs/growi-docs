(window.webpackJsonp=window.webpackJsonp||[]).push([[192],{639:function(v,_,l){"use strict";l.r(_);var a=l(69),e=Object(a.a)({},(function(){var v=this,_=v.$createElement,l=v._self._c||_;return l("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[l("h1",{attrs:{id:"ldap-keycloak-グループ同期"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#ldap-keycloak-グループ同期"}},[v._v("#")]),v._v(" LDAP/Keycloak グループ同期")]),v._v(" "),l("h2",{attrs:{id:"概要"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#概要"}},[v._v("#")]),v._v(" 概要")]),v._v(" "),l("p",[v._v("GROWI v6.3 では、外部システムで管理しているユーザーとユーザーグループのデータを GROWI にインポートできる機能を搭載しました。\nインポートは LDAP サーバーまたは Keycloak から選択できます。LDAP と連携した Keycloak も対象になります。\nまたこの機能は、一度インポートしたユーザーおよびユーザーグループに対する変更を追跡し、同期させることもできます。")]),v._v(" "),l("ul",[l("li",[v._v("インポートおよび同期は、管理画面("),l("code",[v._v("/admin")]),v._v(")からの操作で実行できます。")]),v._v(" "),l("li",[v._v("主な外部仕様は "),l("a",{attrs:{href:"https://dev.growi.org/646d5637019e02272a42cf86",target:"_blank",rel:"noopener noreferrer"}},[v._v("Dev Wiki | /資料/外部仕様/LDAPグループ同期"),l("OutboundLink")],1),v._v(" をご覧ください。")])]),v._v(" "),l("h2",{attrs:{id:"growi-側で必要な設定"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#growi-側で必要な設定"}},[v._v("#")]),v._v(" GROWI 側で必要な設定")]),v._v(" "),l("ul",[l("li",[v._v("GROWI 管理画面のグループ管理画面("),l("code",[v._v("/admin/user-groups")]),v._v(")にアクセスし、作成したい外部グループ（LDAP または Keycloak）のタブを選択します。")]),v._v(" "),l("li",[v._v("外部グループ同期の機能を使うには、あらかじめ LDAP/Keycloak の認証機構設定が必要です。")])]),v._v(" "),l("h2",{attrs:{id:"認証機構の設定-ldap"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#認証機構の設定-ldap"}},[v._v("#")]),v._v(" 認証機構の設定（LDAP）")]),v._v(" "),l("ol",[l("li",[l("p",[v._v("GROWI 管理画面のセキュリティ設定画面("),l("code",[v._v("/admin/security")]),v._v(")にアクセスし、「認証機構設定」内、「LDAP」タブから設定します。")]),v._v(" "),l("ul",[l("li",[v._v("設定する内容や手順の詳細は、 "),l("RouterLink",{attrs:{to:"/ja/admin-guide/management-cookbook/ldap.html"}},[v._v("LDAP 連携")]),v._v("をご覧ください。")],1)])]),v._v(" "),l("li",[l("p",[v._v("GROWI 管理画面のグループ管理画面("),l("code",[v._v("/admin/user-groups")]),v._v(")にアクセスし、「外部グループ管理」の「LDAP」タブから設定します。")]),v._v(" "),l("p",[v._v("入力必須の項目は以下です。")]),v._v(" "),l("ul",[l("li",[v._v("グループ検索ベース DN")]),v._v(" "),l("li",[v._v("所属メンバーを表す LDAP 属性")]),v._v(" "),l("li",[v._v("子グループを表す LDAP 属性")])])])]),v._v(" "),l("h2",{attrs:{id:"認証機構の設定-keycloak"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#認証機構の設定-keycloak"}},[v._v("#")]),v._v(" 認証機構の設定（Keycloak）")]),v._v(" "),l("ol",[l("li",[l("p",[v._v("GROWI 管理画面のセキュリティ設定画面("),l("code",[v._v("/admin/security")]),v._v(")にアクセスし、「認証機構設定」内、「OIDC」タブから設定します。")]),v._v(" "),l("p",[v._v("入力必須の項目は以下です。")]),v._v(" "),l("ul",[l("li",[v._v("プロバイダ名")]),v._v(" "),l("li",[v._v("発行ホスト")]),v._v(" "),l("li",[v._v("クライアント ID")]),v._v(" "),l("li",[v._v("クライアントシークレット")]),v._v(" "),l("li",[v._v("認可エンドポイント")]),v._v(" "),l("li",[v._v("トークンエンドポイント")]),v._v(" "),l("li",[v._v("失効エンドポイント")]),v._v(" "),l("li",[v._v("検証エンドポイント")]),v._v(" "),l("li",[v._v("ユーザ情報エンドポイント")]),v._v(" "),l("li",[v._v("セッション終了エンドポイント")]),v._v(" "),l("li",[v._v("登録エンドポイント")]),v._v(" "),l("li",[v._v("Attribute Mapping\n"),l("ul",[l("li",[v._v("Identifier")]),v._v(" "),l("li",[v._v("username")]),v._v(" "),l("li",[v._v("Email")])])])])]),v._v(" "),l("li",[l("p",[v._v("GROWI 管理画面のグループ管理画面("),l("code",[v._v("/admin/user-groups")]),v._v(")にアクセスし、「外部グループ管理」の「Keycloak」タブから設定します。")]),v._v(" "),l("p",[v._v("入力必須の項目は以下です。")]),v._v(" "),l("ul",[l("li",[v._v("Host")]),v._v(" "),l("li",[v._v("Group Realm")]),v._v(" "),l("li",[v._v("Admin API にリクエストするための client がある realm")]),v._v(" "),l("li",[v._v("Client の ID")]),v._v(" "),l("li",[v._v("Client の Secret")]),v._v(" "),l("li",[v._v("作成されていない GROWI アカウントを自動生成する")]),v._v(" "),l("li",[v._v("説明")])])])]),v._v(" "),l("h2",{attrs:{id:"同期実行"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#同期実行"}},[v._v("#")]),v._v(" 同期実行")]),v._v(" "),l("ul",[l("li",[v._v("同期実行の「同期」をクリックし、「外部グループ管理」内の「グループ一覧」にグループが追加されていることを確認します。\n"),l("ul",[l("li",[v._v("追加した外部グループの名前、説明、所属しているユーザー、子グループ、グループの作成日が表示されます。")])])]),v._v(" "),l("li",[v._v("2回目以降の同期で LDAP/Keycloak 側のデータに変更があった場合、変更された内容で同期されます。\n"),l("ul",[l("li",[v._v("ただし「LDAP/Keycloak から削除されたグループを GROWI に残す」がオンになっている場合は、削除されたグループが GROWI 上に残ります。")])])]),v._v(" "),l("li",[v._v("(TBD) 大規模グループ同期時の注意点")])])])}),[],!1,null,null,null);_.default=e.exports}}]);