(window.webpackJsonp=window.webpackJsonp||[]).push([[235],{682:function(t,s,a){"use strict";a.r(s);var n=a(69),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"テンプレートプラグインを開発する"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#テンプレートプラグインを開発する"}},[t._v("#")]),t._v(" テンプレートプラグインを開発する")]),t._v(" "),a("p",[t._v("テンプレートプラグインは、GROWI のページ作成時に利用できる定型文や構造化されたフォーマットを提供するプラグインです。")]),t._v(" "),a("h2",{attrs:{id:"テンプレートとは"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#テンプレートとは"}},[t._v("#")]),t._v(" テンプレートとは")]),t._v(" "),a("p",[t._v("GROWI のテンプレート機能とは、頻繁に作成する同じ構造のページ（会議議事録、週報、マニュアルなど）を効率的に作成するための機能です。テンプレートを使うことで、以下のようなメリットがあります。")]),t._v(" "),a("ul",[a("li",[t._v("毎回同じ見出しや構造を手動で入力する手間を省ける")]),t._v(" "),a("li",[t._v("チーム内でページの構造を統一できる")]),t._v(" "),a("li",[t._v("必要な項目の記入漏れを防げる")])]),t._v(" "),a("p",[t._v("例えば、ミーティング議事録用のテンプレートには以下のような構造があらかじめ定義されています。")]),t._v(" "),a("div",{staticClass:"language-markdown extra-class"},[a("pre",{pre:!0,attrs:{class:"language-markdown"}},[a("code",[a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" ミーティングタイトル")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("##")]),t._v(" 日時")]),t._v("\nyyyy/mm/dd hh:mm\n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("##")]),t._v(" 参加者")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[t._v("-")]),t._v(" 名前1\n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[t._v("-")]),t._v(" 名前2\n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("##")]),t._v(" 議題")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("###")]),t._v(" 議題1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[t._v("-")]),t._v(" 内容\n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[t._v("-")]),t._v(" 決定事項\n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("###")]),t._v(" 議題2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[t._v("-")]),t._v(" 内容\n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[t._v("-")]),t._v(" 決定事項\n")])])]),a("h2",{attrs:{id:"テンプレートプラグインの役割"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#テンプレートプラグインの役割"}},[t._v("#")]),t._v(" テンプレートプラグインの役割")]),t._v(" "),a("p",[t._v("テンプレートプラグインを開発することで、GROWI ユーザーに対して特定の用途に特化したテンプレート集を提供できます。これにより、 組織固有のフォーマットやワークフローに合わせたテンプレートの共有や、複数の GROWI インスタンスで一貫したドキュメント構造を維持できます。")]),t._v(" "),a("p",[t._v("テンプレートプラグインはシステム管理者によってインストールされ、エンドユーザーはエディタ上でテンプレート選択メニューからこれらのテンプレートを簡単に挿入して利用できます。")]),t._v(" "),a("p",[t._v("テンプレートの使い方については、"),a("RouterLink",{attrs:{to:"/ja/guide/features/template.html"}},[t._v("ページテンプレートを使ってページの作成を楽にする")]),t._v(" も併せてご参照ください。")],1),t._v(" "),a("h2",{attrs:{id:"テンプレートの多言語対応"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#テンプレートの多言語対応"}},[t._v("#")]),t._v(" テンプレートの多言語対応")]),t._v(" "),a("p",[t._v("テンプレートプラグインでは、複数の言語に対応したテンプレートを提供できます。GROWI は現在、英語 (en_US)、日本語 (ja_JP)、中国語 (zh_CN)、フランス語 (fr_FR) の4つの言語をサポートしています。")]),t._v(" "),a("h3",{attrs:{id:"言語切り替え機能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#言語切り替え機能"}},[t._v("#")]),t._v(" 言語切り替え機能")]),t._v(" "),a("p",[t._v("テンプレートを挿入する際に表示されるモーダルには、言語を切り替える機能が組み込まれています。ユーザーはこのモーダル内にある言語切り替えボタン（例：「ja_JP」「en_US」など）をクリックすることで、表示されるテンプレートを別の言語バージョンに切り替えることができます。")]),t._v(" "),a("img",{staticClass:"border",attrs:{src:t.$withBase("/assets/images/ja/select-template.png"),alt:"select-template.png"}}),t._v(" "),a("h3",{attrs:{id:"部分的な多言語対応も可能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部分的な多言語対応も可能"}},[t._v("#")]),t._v(" 部分的な多言語対応も可能")]),t._v(" "),a("p",[t._v("テンプレートプラグイン開発時は、GROWI がサポートする全ての言語（4言語）に対応する必要はありません。例えば、日本語 (ja_JP) と英語 (en_US) のみに対応したテンプレートプラグインの開発もできます。")]),t._v(" "),a("h2",{attrs:{id:"テンプレートプラグインの基本構造"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#テンプレートプラグインの基本構造"}},[t._v("#")]),t._v(" テンプレートプラグインの基本構造")]),t._v(" "),a("p",[t._v("典型的なテンプレートプラグインは以下のような構造を持っています。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("growi-plugin-templates-example/\n├── package.json             # プラグイン情報と依存関係\n└── dist/                    # テンプレートファイルが格納されるディレクトリ\n    ├── template1/           # テンプレート1のディレクトリ\n    │   ├── en_US/           # 英語版テンプレート\n    │   │   ├── meta.json    # テンプレート1の英語メタデータ\n    │   │   └── template.md  # テンプレート1の英語コンテンツ\n    │   └── ja_JP/           # 日本語版テンプレート \n    │       ├── meta.json    # テンプレート1の日本語メタデータ\n    │       └── template.md  # テンプレート1の日本語コンテンツ\n    └── template2/           # テンプレート2のディレクトリ (同様の構造)\n")])])]),a("h3",{attrs:{id:"実際のプラグインの構造例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#実際のプラグインの構造例"}},[t._v("#")]),t._v(" 実際のプラグインの構造例")]),t._v(" "),a("p",[t._v("GROWI公式のテンプレートプラグインの例として以下のリポジトリがあります。")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/growilabs/growi-plugin-templates-for-office",target:"_blank",rel:"noopener noreferrer"}},[t._v("growi-plugin-templates-for-office"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/growilabs/growi-plugin-templates-for-designer",target:"_blank",rel:"noopener noreferrer"}},[t._v("growi-plugin-templates-for-designer"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/growilabs/growi-plugin-templates-for-marketing",target:"_blank",rel:"noopener noreferrer"}},[t._v("growi-plugin-templates-for-marketing"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"開発手順"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#開発手順"}},[t._v("#")]),t._v(" 開発手順")]),t._v(" "),a("p",[t._v("プラグイン開発の基本的な流れについては、"),a("RouterLink",{attrs:{to:"/ja/dev/plugin/development.html"}},[t._v("プラグイン開発の基本")]),t._v(" も併せてご参照ください。")],1),t._v(" "),a("h3",{attrs:{id:"_1-package-json-を作成する"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-package-json-を作成する"}},[t._v("#")]),t._v(" 1. package.json を作成する")]),t._v(" "),a("p",[t._v("package.json を作成し、"),a("code",[t._v("growiPlugin")]),t._v(" ディレクティブを記載します。")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"growi-plugin-templates-example"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Example GROWI template plugin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MIT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"keywords"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"growi"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"growi-plugin"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"growiPlugin"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"schemaVersion"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"types"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"template"')]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 複数のプラグインタイプを同時に設定可能")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"locales"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en_US"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ja_JP"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// サポートする言語(対応言語: "en_US", "ja_JP", "zh_CN", "fr_FR")')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"_2-テストの追加-オプション"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-テストの追加-オプション"}},[t._v("#")]),t._v(" 2. テストの追加（オプション）")]),t._v(" "),a("p",[t._v("プラグインの設定が正しいかどうかを確認するためのテストを追加できます。テストを実装するには、"),a("code",[t._v("test/index.spec.ts")]),t._v(" を作成します。")]),t._v(" "),a("p",[t._v("以下は "),a("a",{attrs:{href:"https://github.com/growilabs/growi/blob/master/packages/preset-templates/test/index.test.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("GROWI のプリセットテンプレート"),a("OutboundLink")],1),t._v(" を参考にしたテストの例です。")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" path "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node:path'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" scanAllTemplates"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" validateTemplatePluginGrowiDirective"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" validateAllTemplateLocales "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@growi/pluginkit/dist/v4/server'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// プロジェクトのルートディレクトリのパスを取得")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" projectDirRoot "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pluginkit のバリデーション関数を使用してテンプレートプラグイン設定を検証")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// validateTemplatePluginGrowiDirective は package.json の growiPlugin 設定を自動的に読み込んで検証します")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("it")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Validation for package.json should be passed'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// when")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("caller")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("validateTemplatePluginGrowiDirective")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("projectDirRoot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// then")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("caller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("not"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toThrow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("it")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Validation for package.json should be return data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// when")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("validateTemplatePluginGrowiDirective")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("projectDirRoot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// then")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("not"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toBeNull")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("it")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Scanning the templates ends up with no errors'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// when")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" results "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scanAllTemplates")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("projectDirRoot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// then")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("results"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("not"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toBeNull")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("it")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Scanning the templates ends up with no errors with opts.data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// setup")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("validateTemplatePluginGrowiDirective")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("projectDirRoot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// when")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" results "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scanAllTemplates")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("projectDirRoot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// then")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("results"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("not"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toBeNull")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("it")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Validation templates returns true'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// when")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("validateAllTemplateLocales")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("projectDirRoot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// then")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toBeTruthy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("このテストを実行するには、package.json にテスト用のスクリプトを追加し、ライブラリをインストールします。")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vitest run"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@growi/pluginkit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^1.1.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// GROWI プラグイン開発キット")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"typescript"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^x.x.x"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"vitest"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^x.x.x"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ pnpm install\n$ pnpm test\n")])])]),a("p",[a("code",[t._v("pnpm test")]),t._v(" コマンドでテストを実行することで、package.json のプラグイン設定が正しいかどうかを自動的に検証できます。")]),t._v(" "),a("h3",{attrs:{id:"_3-テンプレートディレクトリとファイルを作成する"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-テンプレートディレクトリとファイルを作成する"}},[t._v("#")]),t._v(" 3. テンプレートディレクトリとファイルを作成する")]),t._v(" "),a("p",[t._v("dist ディレクトリを作成し、その配下にテンプレートごとのディレクトリを作成します。\n各テンプレートディレクトリ内に言語ごとのディレクトリを作成し、それぞれに "),a("code",[t._v("meta.json")]),t._v(" と "),a("code",[t._v("template.md")]),t._v(" ファイルを配置します。")]),t._v(" "),a("h4",{attrs:{id:"meta-json-の作成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#meta-json-の作成"}},[t._v("#")]),t._v(" meta.json の作成")]),t._v(" "),a("p",[t._v("各言語ディレクトリに "),a("code",[t._v("meta.json")]),t._v(" ファイルを作成します。各言語ごとに異なるタイトルを設定できます。これは、テンプレートの一覧表示時に使われます。")]),t._v(" "),a("p",[t._v("例 "),a("code",[t._v("dist/example-template/en_US/meta.json")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Example Template"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"テンプレートファイルの作成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#テンプレートファイルの作成"}},[t._v("#")]),t._v(" テンプレートファイルの作成")]),t._v(" "),a("p",[t._v("各言語ディレクトリに "),a("code",[t._v("template.md")]),t._v(" ファイルを作成します。")]),t._v(" "),a("p",[t._v("例 "),a("code",[t._v("dist/example-template/en_US/template.md")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-markdown extra-class"},[a("pre",{pre:!0,attrs:{class:"language-markdown"}},[a("code",[a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" Example Template")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("##")]),t._v(" Overview")]),t._v("\nThis is an example template created for GROWI.\n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("##")]),t._v(" Details")]),t._v("\nAdd your content here...\n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("##")]),t._v(" Conclusion")]),t._v("\nSummary of your document.\n")])])]),a("h3",{attrs:{id:"_4-作ったテンプレートを公開する"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-作ったテンプレートを公開する"}},[t._v("#")]),t._v(" 4. 作ったテンプレートを公開する")]),t._v(" "),a("p",[t._v("テンプレートは Git リポジトリとして公開されている必要があります。")]),t._v(" "),a("ol",[a("li",[t._v("作成したプラグインを GitHub リポジトリにプッシュします。")]),t._v(" "),a("li",[t._v("リポジトリの「トピック」に "),a("code",[t._v("growi-plugin")]),t._v(" を追加してください。")]),t._v(" "),a("li",[t._v("トピックを追加することで、"),a("a",{attrs:{href:"https://growi.org/plugins",target:"_blank",rel:"noopener noreferrer"}},[t._v("GROWI プラグイン一覧"),a("OutboundLink")],1),t._v("ページに自動的に表示されるようになります。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);