(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{492:function(e,t,a){"use strict";a.r(t);var o=a(69),r=Object(o.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"docker-compose"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[e._v("#")]),e._v(" docker-compose")]),e._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#overview"}},[e._v("Overview")])]),a("li",[a("a",{attrs:{href:"#download-growi-docker-compose"}},[e._v("Download growi-docker-compose")])]),a("li",[a("a",{attrs:{href:"#build-growi"}},[e._v("Build GROWI")])]),a("li",[a("a",{attrs:{href:"#allow-to-access-growi-from-other-hosts"}},[e._v("Allow to Access GROWI From Other Hosts")])]),a("li",[a("a",{attrs:{href:"#change-heap-size-of-elasticsearch"}},[e._v("Change Heap Size of Elasticsearch")])]),a("li",[a("a",{attrs:{href:"#upgrade-growi"}},[e._v("Upgrade GROWI")])]),a("li",[a("a",{attrs:{href:"#related-pages"}},[e._v("Related Pages")])])])]),a("p"),e._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("This chapter introduces the installation process for GROWI with docker-compose.")]),e._v(" "),a("p",[e._v("Software needed for setup are listed below.")]),e._v(" "),a("ul",[a("li",[e._v("Docker")]),e._v(" "),a("li",[e._v("docker-compose")])]),e._v(" "),a("h2",{attrs:{id:"download-growi-docker-compose"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#download-growi-docker-compose"}},[e._v("#")]),e._v(" Download growi-docker-compose")]),e._v(" "),a("p",[e._v("Download or clone source code files from "),a("a",{attrs:{href:"https://github.com/growilabs/growi-docker-compose",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/growilabs/growi-docker-compose"),a("OutboundLink")],1),e._v(" .")]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("git clone https://github.com/growilabs/growi-docker-compose.git growi\n")])])]),a("h2",{attrs:{id:"build-growi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-growi"}},[e._v("#")]),e._v(" Build GROWI")]),e._v(" "),a("p",[e._v("Execute these commands in the directory where "),a("code",[e._v("growi-docker-compose")]),e._v(" exists.")]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cd growi\ndocker-compose up\n")])])]),a("p",[e._v("Access to "),a("code",[e._v("http://localhost:3000/")]),e._v(" , and if the request is redirected to "),a("code",[e._v("/installer")]),e._v(", GROWI is properly launched.")]),e._v(" "),a("h2",{attrs:{id:"allow-to-access-growi-from-other-hosts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#allow-to-access-growi-from-other-hosts"}},[e._v("#")]),e._v(" Allow to Access GROWI From Other Hosts")]),e._v(" "),a("p",[e._v("GROWI can be accessed from other hosts by changing "),a("code",[e._v("ports")]),e._v(" in "),a("code",[e._v("docker-compose.yml")]),e._v(".")]),e._v(" "),a("p",[a("strong",[e._v("Before")])]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("services:\n  app:\n    ports:\n      - 127.0.0.1:3000:3000\n")])])]),a("p",[a("strong",[e._v("After")])]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("services:\n  app:\n    ports:\n      - 3000:3000\n")])])]),a("h2",{attrs:{id:"change-heap-size-of-elasticsearch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#change-heap-size-of-elasticsearch"}},[e._v("#")]),e._v(" Change Heap Size of Elasticsearch")]),e._v(" "),a("p",[e._v("If there is enough memory capacity, the heap size of Elasticsearch may be increased by changing "),a("code",[e._v("ES_JAVA_OPTS")]),e._v(" in "),a("code",[e._v("docker-compose.yml")]),e._v(".")]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('environment:\n  - "ES_JAVA_OPTS=-Xms2g -Xmx2g"\n')])])]),a("h2",{attrs:{id:"upgrade-growi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-growi"}},[e._v("#")]),e._v(" Upgrade GROWI")]),e._v(" "),a("h3",{attrs:{id:"refer-to-upgrading-guides"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#refer-to-upgrading-guides"}},[e._v("#")]),e._v(" Refer to upgrading guides")]),e._v(" "),a("p",[e._v("The following page introduces the processes to upgrade GROWI to v3.4.x from v3.3.x or below.")]),e._v(" "),a("p",[a("RouterLink",{attrs:{to:"/en/admin-guide/upgrading/34x.html"}},[e._v("Upgrading GROWI to v3.4.x")]),e._v(".")],1),e._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[e._v("DANGER")]),e._v(" "),a("p",[e._v("In upgrading any other version, please check the upgrade guide for the appropriate version first.")])]),e._v(" "),a("h3",{attrs:{id:"upgrading-container"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-container"}},[e._v("#")]),e._v(" Upgrading Container")]),e._v(" "),a("p",[e._v("Stop containers in the directory where "),a("code",[e._v("growi-docker-compose")]),e._v(" exists.")]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cd growi\ndocker-compose stop\n")])])]),a("p",[e._v("Remove Docker containers and Docker images.")]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("docker-compose rm app mongo elasticsearch\ndocker rmi growilabs/growi:7\n")])])]),a("p",[e._v("Pull latest GROWI, and create a fresh Docker image and build up containers.")]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("git pull\ndocker-compose build\ndocker-compose up\n")])])]),a("p",[e._v("After containers are built, access to the admin page and build ES index again on full text search management ( "),a("code",[e._v("/admin/search")]),e._v(" ).")]),e._v(" "),a("h2",{attrs:{id:"related-pages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#related-pages"}},[e._v("#")]),e._v(" Related Pages")]),e._v(" "),a("ul",[a("li",[e._v("Launch Multiple GROWIs")])]),e._v(" "),a("p",[a("RouterLink",{attrs:{to:"/en/admin-guide/admin-cookbook/multi-app.html"}},[e._v("Multiple Sites")])],1),e._v(" "),a("ul",[a("li",[e._v("HTTPS proxy")])]),e._v(" "),a("p",[a("RouterLink",{attrs:{to:"/en/admin-guide/admin-cookbook/lets-encrypt.html"}},[e._v("HTTPS with Let's Encript")])],1),e._v(" "),a("ul",[a("li",[e._v("Backup data about page and user in MongoDB")])]),e._v(" "),a("p",[a("RouterLink",{attrs:{to:"/en/admin-guide/admin-cookbook/mongodb-backup-regular.html#manage-with-docker-compose"}},[e._v("MongoDB Auto Backup")])],1),e._v(" "),a("ul",[a("li",[e._v("Use HackMD(CodiMD) to simultaneous editing")])]),e._v(" "),a("p",[a("RouterLink",{attrs:{to:"/en/admin-guide/admin-cookbook/integrate-with-hackmd.html"}},[e._v("HackMD(CodiMD) Integration")])],1)])}),[],!1,null,null,null);t.default=r.exports}}]);