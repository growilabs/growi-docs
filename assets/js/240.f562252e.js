(window.webpackJsonp=window.webpackJsonp||[]).push([[240],{687:function(t,a,s){"use strict";s.r(a);var v=s(69),e=Object(v.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"開発を始めましょう"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#開発を始めましょう"}},[t._v("#")]),t._v(" 開発を始めましょう")]),t._v(" "),s("h2",{attrs:{id:"git-の操作について"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-の操作について"}},[t._v("#")]),t._v(" Git の操作について")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("ブランチ操作、reset, rebase 操作に慣れていない人は必ず Git Graph を利用し、樹形図を常に確認しながら開発を進めるようにしてください。")])]),t._v(" "),s("h2",{attrs:{id:"初回起動"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初回起動"}},[t._v("#")]),t._v(" 初回起動")]),t._v(" "),s("p",[t._v("GROWI-Dev devcontainer 内のターミナルで作業します。")]),t._v(" "),s("h3",{attrs:{id:"依存ライブラリの取得"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依存ライブラリの取得"}},[t._v("#")]),t._v(" 依存ライブラリの取得")]),t._v(" "),s("p",[t._v("npx を用いて lerna bootstrap を実行します。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("npx lerna bootstrap\n")])])]),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("DANGER")]),t._v(" "),s("p",[t._v("monorepo を採用しているため、依存関係の管理には "),s("a",{attrs:{href:"https://lerna.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("lerna"),s("OutboundLink")],1),t._v(" を使います。\n"),s("code",[t._v("yarn install")]),t._v(" または、"),s("code",[t._v("npm install")]),t._v(" は利用しないでください")])]),t._v(" "),s("h3",{attrs:{id:"アプリケーション開発用サーバーの起動"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#アプリケーション開発用サーバーの起動"}},[t._v("#")]),t._v(" アプリケーション開発用サーバーの起動")]),t._v(" "),s("p",[t._v("ターミナルを開き、開発用のサーバーを起動します。"),s("br"),t._v(" "),s("code",[t._v("Ctrl-C")]),t._v("で終了できます。")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("cd packages/app")])]),t._v(" "),s("li",[s("code",[t._v("yarn dev")]),t._v(" "),s("ul",[s("li",[t._v("Express サーバー、Next.js 開発用サーバーを起動します")]),t._v(" "),s("li",[t._v("ファイル群の変更を検知し、リビルドします")])])])]),t._v(" "),s("h3",{attrs:{id:"プリセットテーマのオートビルド"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#プリセットテーマのオートビルド"}},[t._v("#")]),t._v(" プリセットテーマのオートビルド")]),t._v(" "),s("p",[t._v("プリセットテーマのソース(scss)は本体("),s("code",[t._v("packages/app")]),t._v(")とは別のパッケージ "),s("code",[t._v("packages/preset-themes")]),t._v(" で管理されており、本体の "),s("code",[t._v("yarn dev")]),t._v(" 時に1度だけビルドされます。\nプリセットテーマのルック＆フィールを修正するにあたって開発用サーバーで変更を検知しながらコーディングを行うには、新たにターミナルを開いて以下のコマンドを実行してください。"),s("br"),t._v(" "),s("code",[t._v("Ctrl-C")]),t._v("で終了できます。")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("cd packages/preset-themes")])]),t._v(" "),s("li",[s("code",[t._v("yarn dev")])])]),t._v(" "),s("h2",{attrs:{id:"_2回目以降の起動"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2回目以降の起動"}},[t._v("#")]),t._v(" 2回目以降の起動")]),t._v(" "),s("p",[t._v("毎回、上記の "),s("a",{attrs:{href:"#%E5%88%9D%E5%9B%9E%E8%B5%B7%E5%8B%95"}},[t._v("初回起動")]),t._v(" のセクションを全て実行してください。")]),t._v(" "),s("p",[s("a",{attrs:{href:"#%E4%BE%9D%E5%AD%98%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%81%AE%E5%8F%96%E5%BE%97"}},[t._v("依存ライブラリの取得")]),t._v(" のセクションは、node_modules 内に lerna パッケージが存在する場合、yarn 経由で実行可能です。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" lerna bootstrap\n")])])]),s("h2",{attrs:{id:"npm-コマンドリスト"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-コマンドリスト"}},[t._v("#")]),t._v(" npm コマンドリスト")]),t._v(" "),s("p",[t._v("開発で使う主なコマンド紹介です。"),s("br"),t._v("\n全てのコマンドは "),s("code",[t._v("packages/app/package.json")]),t._v(" の script セクションを参照してください。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("以下のコマンドは "),s("code",[t._v("packages/app")]),t._v(" ディレクトリ下で実行してください。")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("command")]),t._v(" "),s("th",[t._v("詳細")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("dev")])]),t._v(" "),s("td",[t._v("開発用に Express サーバーを起動します"),s("br"),t._v("ファイルを監視し、変更時に自動でリビルドします。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("test")])]),t._v(" "),s("td",[t._v("単体テスト、統合テストを実行します。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("lint")])]),t._v(" "),s("td",[t._v("コードの linting を実施します。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("migrate:create")])]),t._v(" "),s("td",[t._v("マイグレーションファイルを作成します。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("migrate:status")])]),t._v(" "),s("td",[t._v("マイグレーションの適用状態をチェックします。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("migrate:up")])]),t._v(" "),s("td",[t._v("全ての未適用のマイグレーションを適用します。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("migrate:down")])]),t._v(" "),s("td",[t._v("適用済みのマイグレーションのうち、最新のもの1つを適用前の状態に戻します。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("migrate")])]),t._v(" "),s("td",[s("em",[t._v("[エイリアス]")]),t._v(" "),s("code",[t._v("migrate:up")]),t._v(" を実行します")])])])]),t._v(" "),s("h2",{attrs:{id:"production-用の成果物をビルドして起動"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#production-用の成果物をビルドして起動"}},[t._v("#")]),t._v(" production 用の成果物をビルドして起動")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("以下のコマンドはリポジトリのルートディレクトリで実行してください。")])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("依存ライブラリの取得")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("npx lerna bootstrap\n")])])])]),t._v(" "),s("li",[s("p",[t._v("production 用にビルド")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" lerna run build\n")])])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);